---
import Layout from '../../layouts/Layout.astro';
import { Sidebar } from '../../components/Sidebar';
import { Header } from '../../components/Header';
---

<Layout title="Strategic Simulator - ReOrder AI">
  <div class="flex h-screen overflow-hidden bg-background-light dark:bg-background-dark">
    <Sidebar client:load currentPath={Astro.url.pathname} />

    <!-- Simulation Inputs Sidebar -->
    <aside class="w-80 border-r border-slate-200 bg-white flex flex-col overflow-y-auto p-8 gap-10 shrink-0">
      <section>
        <div class="flex items-center gap-2 mb-8 border-b border-slate-100 pb-4">
          <span class="material-symbols-outlined text-black">analytics</span>
          <h3 class="font-black text-black uppercase tracking-[0.2em] text-[10px]">Model Controls</h3>
        </div>
        <div class="space-y-10">
          <!-- Control: Marketing Spend -->
          <div class="space-y-4">
            <div class="flex justify-between items-end">
              <label class="text-[10px] font-black uppercase tracking-widest text-slate-400">Marketing Delta</label>
              <span class="text-black font-black text-2xl tracking-tighter">$50K</span>
            </div>
            <div class="relative h-6 flex items-center">
              <div class="w-full h-1 bg-slate-100 rounded-full">
                <div class="absolute h-1 bg-black rounded-full" style="width: 45%;"></div>
              </div>
              <div class="absolute left-[45%] -translate-x-1/2 size-5 bg-white border-4 border-black shadow-xl cursor-pointer"></div>
            </div>
            <div class="flex justify-between text-[8px] font-black text-slate-300 uppercase tracking-widest">
              <span>Min Limit</span>
              <span>Max Limit</span>
            </div>
          </div>
          <!-- Control: Growth % -->
          <div class="space-y-4">
            <div class="flex justify-between items-end">
              <label class="text-[10px] font-black uppercase tracking-widest text-slate-400">Target Scaling</label>
              <span class="text-success font-black text-2xl tracking-tighter">15.4%</span>
            </div>
            <div class="relative h-6 flex items-center">
              <div class="w-full h-1 bg-slate-100 rounded-full">
                <div class="absolute h-1 bg-success rounded-full" style="width: 32%;"></div>
              </div>
              <div class="absolute left-[32%] -translate-x-1/2 size-5 bg-white border-4 border-success shadow-xl cursor-pointer"></div>
            </div>
          </div>
        </div>
      </section>

      <section class="mt-auto border-t border-slate-100 pt-8">
        <div class="bg-slate-50 p-6 border border-slate-200">
          <p class="text-[9px] font-black text-slate-400 uppercase tracking-widest mb-4">Version Control</p>
          <div class="flex gap-2">
            <button class="flex-1 py-3 bg-black text-white text-[9px] font-black uppercase tracking-widest shadow-lg">Current</button>
            <button class="flex-1 py-3 bg-white border border-slate-300 text-black text-[9px] font-black uppercase tracking-widest hover:bg-slate-50">Saved</button>
          </div>
        </div>
      </section>
    </aside>

    <!-- Main Content Area -->
    <main class="flex-1 flex flex-col overflow-hidden">
      <!-- Top Header -->
      <Header client:load />

      <section class="flex-1 overflow-y-auto p-12 space-y-12 max-w-[1200px] mx-auto w-full">
        <!-- Metrics Header -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div class="bg-white p-8 border border-slate-200 shadow-sm relative overflow-hidden group">
            <div class="absolute left-0 top-0 h-full w-1 bg-slate-200"></div>
            <div class="flex justify-between items-start mb-2">
              <p class="text-[9px] font-black text-slate-400 uppercase tracking-widest">Baseline Profit</p>
            </div>
            <p class="text-3xl font-black text-slate-300 tracking-tighter">$412,850</p>
          </div>
          <div class="bg-black p-8 shadow-2xl relative overflow-hidden">
            <div class="absolute right-0 top-0 p-4 opacity-20">
              <span class="material-symbols-outlined text-white text-6xl">electric_bolt</span>
            </div>
            <div class="flex justify-between items-start mb-2">
              <p class="text-[9px] font-black uppercase tracking-[0.2em] text-success">Optimized Outcome</p>
            </div>
            <p class="text-4xl font-black text-white tracking-tighter">$642,310</p>
            <div class="flex items-center gap-1 text-success text-[10px] font-black mt-3 uppercase tracking-widest">
              <span class="material-symbols-outlined text-sm">trending_up</span>
              <span>+55.6% Growth Potential</span>
            </div>
          </div>
          <div class="bg-white p-8 border border-slate-200 shadow-sm">
            <div class="flex justify-between items-start mb-2">
              <p class="text-[9px] font-black text-slate-400 uppercase tracking-widest">Projected Rev.</p>
            </div>
            <p class="text-3xl font-black text-black tracking-tighter">$2.1M</p>
          </div>
        </div>

        <!-- Main Chart Panel -->
        <div class="bg-white p-12 border border-slate-200 shadow-2xl">
          <div class="flex items-center justify-between mb-12">
            <div>
              <h3 class="text-2xl font-black uppercase tracking-tighter text-black">Trajectory Simulation</h3>
              <p class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1">12-Month Liquidity Path</p>
            </div>
          </div>
          <!-- Chart Visualization -->
          <div class="h-80 w-full relative">
            <svg class="w-full h-full overflow-visible" preserveAspectRatio="none" viewBox="0 0 1000 300">
              <path d="M0,250 Q100,240 200,245 T400,230 T600,225 T800,210 T1000,200" fill="none" class="stroke-slate-200" stroke-dasharray="10" stroke-width="2" />
              <path d="M0,250 Q100,220 200,200 T400,160 T600,120 T800,80 T1000,40" fill="none" class="stroke-success" stroke-width="4" />
              <circle cx="200" cy="200" class="fill-success" r="5" />
              <circle cx="600" cy="120" class="fill-success" r="5" />
              <circle cx="1000" cy="40" class="fill-success" r="5" />
            </svg>
            <div class="absolute inset-0 flex flex-col justify-between pointer-events-none">
              <div class="w-full border-t border-slate-50"></div>
              <div class="w-full border-t border-slate-50"></div>
              <div class="w-full border-t border-slate-50"></div>
            </div>
            <div class="absolute bottom-0 left-0 right-0 flex justify-between text-[10px] font-black text-slate-300 uppercase mt-4 translate-y-full tracking-[0.2em]">
              <span>PHASE 01</span><span>PHASE 02</span><span>PHASE 03</span>
            </div>
          </div>
        </div>


      </section>
    </main>
  </div>
</Layout>
